# Emoji Translator II: Write-up

В этом таске нам встречается тот же сервис, что и в Emoji Translator I, только в этот раз необходимо его сломать, а не поднять. Для этого нам пригодится исходный код из первого таска. Поисследовав его, можно заметить неприкрытую RCE-уязвимость в функции `get_translations`:
```
records = [{'emoji': x.string, 'text': os.popen('cat ./translations/%s' % x.string).read()} for x in Emoji.select()]
```
А также зашиту от неё:
```
def check(s):
    for i in ['&', ';', '$', '<', '>']:
        if i in s:
            return False
    return True
```
Защита, впрочем, не очень надёжная: не запрещён символ `|`, с помощью которого мы и будем добывать флаг. 
Если мы добавим, например, эмодзи с именем `smth | ls`, то при попытке перевода `smth | ls` с эмодзи на текст, мы получим содержимое директории с приложением, причём, очевидно, не важно, как эмодзи должно переводиться по задумке. 
Замечаем в выводе директорию `secret`, добавляем эмодзи `smth | ls secret`, переводим его, видим там файл с именем `flag.txt`.
Остаётся добавить и перевести эмодзи `smth | cat secret/flag.txt`. 

Флаг **ugra_ugra_ugra_ugra**
